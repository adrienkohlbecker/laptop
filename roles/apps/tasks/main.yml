---

- name: Tap caskroom/versions
  homebrew_tap:
    tap: caskroom/versions
  tags:
    - apps

- name: Install java7
  homebrew_cask:
    name: java7
  tags:
    - apps

- name: Setup JAVA_HOME
  lineinfile:
    dest: ~/.zshrc.local
    line: export JAVA_HOME="$(/usr/libexec/java_home -v 1.7)"
  tags:
    - apps

- name: Install skype
  homebrew_cask:
    name: skype
  tags:
    - apps

- name: Install sublime-text3
  homebrew_cask:
    name: sublime-text3
  tags:
    - apps

- name: Open Sublime Text
  shell: "open -a '{{ brew_cask_install_directory }}/Sublime Text.app'"
  changed_when: false
  tags:
    - apps

- name: Install atom
  homebrew_cask:
    name: atom
  tags:
    - apps

- name: Install atom plugins
  shell: apm install {{ item }}
  with_items:
    - advanced-open-file
    - atom-fix-path
    - atom-typescript
    - color-picker
    - dash
    - editorconfig
    - file-icons
    - go-plus
    - highlight-selected
    - language-docker
    - language-haml
    - linter
    - linter-haml
    - linter-jsonlint
    - linter-pylama
    - linter-rubocop
    - linter-scss-lint
    - linter-tslint
    - minimap
    - pigments
    - project-manager
    - sort-lines
    - toggle-quotes
  tags:
    - apps

- name: Install diffmerge
  homebrew_cask:
    name: diffmerge
  tags:
    - apps

- name: Install google-drive
  homebrew_cask:
    name: google-drive
  tags:
    - apps

- name: Open Google Drive
  shell: "open -a '{{ brew_cask_install_directory }}/Google Drive.app'"
  changed_when: false
  tags:
    - apps

- name: Install android-studio
  homebrew_cask:
    name: android-studio
  tags:
    - apps

- name: Setup ANDROID_HOME
  lineinfile:
    dest: ~/.zshrc.local
    line: export ANDROID_HOME="$HOME/Library/Android/sdk"
  tags:
    - apps

- name: Setup PATH for Android SDK
  lineinfile:
    dest: ~/.zshrc.local
    line: export PATH="$HOME/Library/Android/sdk/tools:$HOME/Library/Android/sdk/platform-tools:$HOME/Library/Android/sdk/build-tools:$PATH"
  tags:
    - apps

- name: Install evernote
  homebrew_cask:
    name: evernote
  tags:
    - apps

- name: Install xquartz
  homebrew_cask:
    name: xquartz
  tags:
    - apps

- name: Install slack
  homebrew_cask:
    name: slack
  tags:
    - apps

- name: Start slack at login
  shell: >
    osascript -e 'tell application "System Events" to make new login item at end with properties {path:"{{ brew_cask_install_directory }}/Slack.app", name:"Slack", hidden:true}'
  changed_when: false
  tags:
    - apps

- name: Open Slack
  shell: "open -a {{ brew_cask_install_directory }}/Slack.app"
  changed_when: false
  tags:
    - apps

- name: Install imagealpha
  homebrew_cask:
    name: imagealpha
  tags:
    - apps

- name: Install imageoptim
  homebrew_cask:
    name: imageoptim
  tags:
    - apps

- name: Install the-unarchiver
  homebrew_cask:
    name: the-unarchiver
  tags:
    - apps

- name: Open the-unarchiver
  shell: "open -a '{{ brew_cask_install_directory }}/The Unarchiver.app'"
  changed_when: false
  tags:
    - apps

- name: Install vlc
  homebrew_cask:
    name: vlc
  tags:
    - apps

- name: Install hockey
  homebrew_cask:
    name: hockey
  tags:
    - apps

- name: Install sketch
  homebrew_cask:
    name: sketch
  tags:
    - apps

- name: Install packer
  homebrew_cask:
    name: packer
  tags:
    - apps

- name: Install bee
  homebrew_cask:
    name: bee
  tags:
    - apps

- name: Install pgadmin3
  homebrew_cask:
    name: pgadmin3
  tags:
    - apps

- name: Install firefox-beta
  homebrew_cask:
    name: firefox-beta
  tags:
    - apps

- name: Install Paw
  homebrew_cask:
    name: paw
  tags:
    - apps

- name: Install Dash
  homebrew_cask:
    name: dash
  tags:
    - apps

- name: Install ngrok
  homebrew_cask:
    name: ngrok
  tags:
    - apps

- name: Install charles
  homebrew_cask:
    name: charles
  tags:
    - apps

- include: chrome.yml
- include: flux.yml
- include: caffeine.yml
- include: sourcetree.yml
- include: iterm.yml
