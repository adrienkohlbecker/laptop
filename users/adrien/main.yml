---

- name: adrien | Install dropbox
  homebrew_cask:
    name: dropbox
  tags:
    - users
    - adrien

- name: adrien | Open dropbox
  shell: "open -a {{ brew_cask_install_directory }}/Dropbox.app"
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Install steam
  homebrew_cask:
    name: steam
  tags:
    - users
    - adrien

- name: adrien | Install 1password
  homebrew_cask:
    name: 1password
  tags:
    - users
    - adrien

- name: adrien | Open 1password
  shell: 'open -a "{{ brew_cask_install_directory }}/1Password 5.app"'
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Install superduper
  homebrew_cask:
    name: superduper
  tags:
    - users
    - adrien

- name: adrien | Install arq
  homebrew_cask:
    name: arq
  tags:
    - users
    - adrien

- name: adrien | Start arq agent at login
  shell: >
    osascript -e 'tell application "System Events" to make new login item at end with properties {path:"{{ brew_cask_install_directory }}/Arq.app/Contents/Library/LoginItems/Arq Agent.app", name:"Arq Agent", hidden:true}'
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Open arq
  shell: "open -a {{ brew_cask_install_directory }}/Arq.app"
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Install houdahgeo
  homebrew_cask:
    name: houdahgeo
  tags:
    - users
    - adrien

- name: adrien | Install sonos
  homebrew_cask:
    name: sonos
  tags:
    - users
    - adrien

- name: adrien | Install dash
  homebrew_cask:
    name: dash
  tags:
    - users
    - adrien

- name: adrien | Start Dash at login
  shell: >
    osascript -e 'tell application "System Events" to make new login item at end with properties {path:"{{ brew_cask_install_directory }}/Dash.app", name:"Dash", hidden:false}'
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Open dash
  shell: "open -a {{ brew_cask_install_directory }}/Dash.app"
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Install divvy
  homebrew_cask:
    name: divvy
  tags:
    - users
    - adrien

- name: adrien | Start Divvy at login
  shell: >
    osascript -e 'tell application "System Events" to make new login item at end with properties {path:"{{ brew_cask_install_directory }}/Divvy.app", name:"Divvy", hidden:false}'
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Open divvy
  shell: "open -a {{ brew_cask_install_directory }}/Divvy.app"
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Install omnidisksweeper
  homebrew_cask:
    name: omnidisksweeper
  tags:
    - users
    - adrien

- name: "adrien | Top left screen corner → Put display to sleep"
  shell: defaults write com.apple.dock wvous-tl-corner -int 10
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Top left screen corner → Put display to sleep"
  shell: defaults write com.apple.dock wvous-tl-modifier -int 0
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Top right screen corner → Mission Control"
  shell: defaults write com.apple.dock wvous-tr-corner -int 2
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Top right screen corner → Mission Control"
  shell: defaults write com.apple.dock wvous-tr-modifier -int 0
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Bottom right screen corner → Desktop"
  shell: defaults write com.apple.dock wvous-br-corner -int 4
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Bottom right screen corner → Desktop"
  shell: defaults write com.apple.dock wvous-br-modifier -int 0
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Bottom left screen corner → Application Windows"
  shell: defaults write com.apple.dock wvous-bl-corner -int 3
  changed_when: false
  tags:
    - users
    - adrien

- name: "adrien | Bottom left screen corner → Application Windows"
  shell: defaults write com.apple.dock wvous-bl-modifier -int 0
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | wipe all apps from the dock to start fresh
  shell: dockutil --remove all
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Put dock to the right
  shell: defaults write com.apple.Dock orientation right
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Set force-touch track pad to firm
  shell: "defaults write com.apple.AppleMultitouchTrackpad {{ item }} -int 2"
  with_items:
    - FirstClickThreshold
    - SecondClickThreshold
  changed_when: false
  tags:
    - users
    - adrien

- name: adrien | Setup chrome extensions
  copy:
    src: ../../roles/apps/files/extension.json
    dest: "~/Library/Google/Chrome/External Extensions/{{ item }}.json"
  with_items:
    - chlffgpmiacpedhhbkiomidkjlcfhogd # Pushbullet
    - kbmfpngjjgdllneeigpgjifpgocmfgmb # Reddit enhancement suite
    - klbibkeccnjlkjkiokjodocebajanakg # The great suspender
    - cjpalhdlnbpafiamejdnhcphjbkeiagm # ublock origin
    - aomjjhallfgjeglblehebfpbcfeobpgk # 1password
  tags:
    - users
    - adrien

- name: adrien | Install zenhub Chrome app
  homebrew_cask:
    name: zenhub
  tags:
    - users
    - adrien
